<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" type="text/css" href="css/styles.css">
		<script type="text/javascript">var win = nw.Window.get();</script>
		<script type="text/javascript" src="js/config.js"></script>
	</head>

	<body>
		<div id="menu-bar">
			<div class="title">Idolm@ster Shiny Colors - ShinyCWP <span id="title-version"></span></div>
			<div class="buttons left">
				<span class="dropdown-config">
					<a class="icon-config" style="cursor:pointer; text-decoration: none; color: inherit;" onclick="toggle_config()"></a>
					<div id="config" class="dialog" style="display: none;">
						<p><b>NOTE: Changes on the proxy section won't be applied until you close the config dialog.</b> Game will reload if changed.</p>
						<h3>Proxy configuration</h3>
						<div>
							<p>The client by default uses a custom proxy to set a japanese connection and run the game. If you've already set a system-wide proxy or VPN, you may disable this option to improve speed.
								<br><br><i>Disabling this also deactivates the custom proxy.</i>
							</p>
							<label>
								<input type="checkbox" config-area="proxy" config-property="active">
								Enable proxy
							</label>
							<p>You can also set your own proxy below<br>(leave blank to use built-in one).</p>
							<label>
								<input type="text" config-area="proxy" config-property="custom" maxlength="21" placeholder="ip:port format (will be validated)">
							</label>
						</div>
						<h3>Hiori</h3>
						<div>
							<p>Here you can change the extension behavior. You may need to manually reload the game for the changes to take effect.</p>
							<label>
								<input type="checkbox" config-area="hiori" config-property="dialogs">
								Translate dialog/names (where available)
							</label>
							<p>Disabling menu translation <b>helps when a game update breaks the translated textures and/or screen freezes</b> when loading a new screen.
								<br>A reload (F5) might be needed for changes to take effect.</p>
							<label>
								<input type="checkbox" config-area="hiori" config-property="menus">
								Translate menus
							</label>
							<!-- <p>Select the language for translations (currently menus only).</p>
							<label>
								<select id="lang-sel" onchange="handleLang(this)">
									<option disabled selected>Not changed</option>
									<option value="en_us">English</option>
									<option value="ko_kr">Korean</option>
								</select>
								Language (experimental)
							</label> -->
						</div>
						<h3>Sound configuration</h3>
						<div>
							<p>Game sounds usually mute when you leave the window. Here you can change that. (Usefull for Always-on-top mode).</p>
							<label>
								<input type="checkbox" config-area="sound" config-property="afk_mute">
								Mute sound on AFK
							</label>
						</div>
						<h3>Browser data</h3>
						<div>
							<p>Please keep the Shift key pressed when clicking the button to apply the action.<br>Game may be reloaded after process is done.</p>
							<button class="button danger" config-custom="delete-cookies">Delete cookies</button><!-- whitespace fix
							--><button class="button" config-custom="delete-cache">Delete cache</button>
						</div>
					</div>
				</span>
				<span class="icon-refresh" onclick="reload_iframe()"></span>
				<span class="dropdown-updates">
					<a id="updates" class="icon-notif-off" onclick="toggle_updates()"></a>
					<div id="notifications" class="dialog" style="display: none;">
						<h3>Update(s)</h3>
						<span class="placeholder" style="text-align: center;">Nothing to show.</span>
						<div class="template">
							<h4></h4><span></span>
							<a style="display: none"></a>
						</div>
					</div>
				</span>
			</div>
			<div class="buttons right">
				<span class="icon-pin" onclick="toggle_aot()"></span>
				<span class="icon-minimize" onclick="win.minimize()"></span>
				<span class="icon-fullscreen" onclick="toggle_fs()"></span>
				<span class="icon-close" onclick="nw.App.quit()"></span>
			</div>
		</div>

		<div id="overlay" class="hide">
			<span class="message"></span>
		</div>

		<div id="pre-message">
			<h1>ShinyCWP</h1>

			<p>Thanks for using the beta.</p> 

			<p>You're advised NOT to use your main account as we aren't yet sure what does Enza/Bamco think about the translation mod or the client. In any case, use <b>at your own risk</b>.</p>
			<p>Also, please note this software uses a third party japanese proxy, so be aware that,
				<br>while we DO NOT collect any data, we can't prevent proxy doing so (worst of cases).
			</p>
		
			<p>Have fun.<br>â€” ShinyCWP dev team.</p>

			<small>Read full disclaimer at:
				<a onclick="nw.Shell.openExternal(this.href); return false;" 
					href="https://github.com/shinycolors/shinycwp">https://github.com/shinycolors/shinycwp</a>

				<br>This client uses
					<a onclick="nw.Shell.openExternal(this.href); return false;" 
					href="https://github.com/shinycolors/hiori">Hiori</a>,
					a fanmade and really cool Chrome extension that will help you with in-game translations.
			</small>
		</div>

		<iframe draggable="false" id="iframe" scrolling="no" nwfaketop></iframe>
		<script type="text/javascript" src="js/OSD.js"></script>
		<script type="text/javascript" src="js/inyect.js"></script>
	</body>
</html>
